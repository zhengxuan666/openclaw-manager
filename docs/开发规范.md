# OpenClaw Manager 开发规范

本文档用于统一本项目的日常开发流程与协作方式。

## 1. 分支规范

- `main`：稳定分支，仅合并已验证的改动
- `feature/<name>`：功能开发分支
- `fix/<name>`：缺陷修复分支
- `chore/<name>`：工程化或文档类改动

示例：`feature/ai-provider-settings`

## 2. 提交信息规范

建议使用 Conventional Commits：

- `feat:` 新功能
- `fix:` 缺陷修复
- `docs:` 文档更新
- `refactor:` 重构（不改变功能）
- `chore:` 构建、依赖、脚本等杂项

示例：

```text
feat: 增加飞书渠道配置表单校验
fix: 修复服务重启后状态未刷新问题
docs: 补充初始化与开发规范文档
```

## 3. 开发流程

1. 从 `main` 拉取最新代码
2. 创建功能分支进行开发
3. 本地运行并自测
4. 提交代码并发起合并请求
5. 通过评审后合并到 `main`

## 4. 本地开发命令

```bash
# 安装依赖
npm install

# 启动开发模式
npm run tauri:dev

# 构建发布版本
npm run tauri:build
```

## 5. 代码风格建议

- 保持函数职责单一，避免过长函数
- 变量与函数命名语义清晰
- 优先复用已有组件与工具函数
- 改动尽量最小化，避免无关重构

## 6. 合并前检查清单

- [ ] 功能按预期工作
- [ ] 无明显控制台报错
- [ ] 关键路径已手动验证
- [ ] 文档已同步更新（如有必要）

## 7. 文档索引

- 初始化说明：`docs/初始化说明.md`
- 开发规范：`docs/开发规范.md`

## 8. Settings Agent 与 Binding 配置说明

- Settings 页面已提供 `agents.list` / `bindings` 的可视化配置入口（默认模式），可通过表单完成 Agent 管理与 Binding 路由规则配置。
- “专家模式（JSON）”用于高级用户直接编辑 `agents.list` / `bindings` 原始 JSON。
